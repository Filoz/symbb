{% trans_default_domain "symbb_frontend" %}

{% extends getSymbbTemplateConfig('forum') ~ '::layoutWithSidebar.html.twig' %}

{% import "SymBBTemplateSimpleBundle:Forum:forumMacros.html.twig" as symbBBForumMacro %}
{% import "SymBBTemplateSimpleBundle:Topic:topicMacros.html.twig" as symbBBForumTopicMacro %}

{% block stylesheets %} 
    {{ parent() }}
    {% stylesheets 
        '@SymBBTemplateSimpleBundle/Resources/public/css/forum.css' filter='?yui_css'
     %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}
    
    
{% block javascripts %} 
    {{ parent() }}
    <script>
        $(function() {
            
            calculateCategoryPositions();
            
            function calculateCategoryPositions(){
                var positions = [];
                $('.symbb_category').each(function(key, div){
                    var position = $(div).position();
                    positions[key] = position;
                    var parentHeight  = $(div).parent().height();
                    $(div).parent().css('height', parentHeight)
                });
                $('.symbb_category').each(function(key, div){
                    var position = positions[key];
                    $( div ).css("left", position.left);
                    $( div ).css("top", position.top);
                    $( div ).css("position", "absolute");
                });
            }
            
            $( window ).resize(function() {
                
                $('.symbb_category').each(function(key, div){
                    $( div ).css("left", 0);
                    $( div ).css("top", 0);
                    $( div ).css("position", "relative");
                    $(div).parent().css('height', "auto");
                });
                
                 calculateCategoryPositions();
            });
        });
    </script>
{% endblock %}

{% block symbb_navi %} 
    {% include getSymbbTemplateConfig('forum') ~ ':Forum:navi.html.twig' %}
{% endblock %}

{% block symbb_breadcrumb %}
    {{ getSymbbBreadcrumb() }}
{% endblock %}
    

{% block symbb_sidebar %}
    
    {% include getSymbbTemplateConfig('forum') ~ ':Forum:sidebar.html.twig' with {'forum': null} %}
    
{% endblock %}    
    
   
