{% trans_default_domain "symbb_frontend" %}

{% extends getSymbbTemplateConfig('forum') ~ ':Forum:layout.html.twig' %}

{% block stylesheets %} 
    {{ parent() }}
    {% stylesheets 
        '@SymBBTemplateSimpleBundle/Resources/public/css/topic.css' filter='?yui_css'
     %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
    {{ executeSymbbTemplateTopicEvent('stylesheets', topic) }}
{% endblock %}
    
{% block javascripts %} 
    {{ parent() }}
    {% javascripts 
        '@SymBBCoreForumBundle/Resources/public/js/quote.js' filter='?yui_js'
        '@SymBBCoreForumBundle/Resources/public/js/tabs.js' filter='?yui_js'
     %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
    {{ executeSymbbTemplateTopicEvent('javascripts', topic) }}
{% endblock %}

{% block symbb_breadcrumb %}
    {{ getSymbbBreadcrumb(topic) }}
{% endblock %}

{% block symbb_body %}
 
    <ul class="f-left pagination">
        <li>
            <a href="#symbb_bbcode_editor">{{ 'Answer'|trans }}</a>
        </li>
        <li>
            <a href="#symbb_bottom">{{ 'Bottom'|trans }}</a>
        </li>
    </ul>
 
    {{ knp_pagination_render(pagination) }}
   
    {% if topic.isLocked() %}
    <div class="alert alert-warning">{% trans %}This topic is closed.{% endtrans %}</div>
    <div class="clear"></div>
    {% endif %}
    
    <div class="symbb_topic">
        {{ symbBBForumTopicMacro.showPostList(topic, pagination) }}
    </div>

    {% if topic.isLocked() %}
    <div class="m-top-1"></div>
    <div class="alert alert-warning">{% trans %}This topic is closed.{% endtrans %}</div>
    <div class="clear"></div>
    {% endif %}
    
    <ul class="f-left pagination">
        <li>
            <a href="#top">{{ 'Top'|trans }}</a>
        </li>
    </ul>
    
{{ knp_pagination_render(pagination) }}
    
    {% if not topic.isLocked() %}
    
        {% if hasSymbbAccess('write', topic.getForum()) %}

            {% include getSymbbTemplateConfig('forum') ~ ':Post:new.html.twig' with {'form': form, 'topic': topic, 'saved': false} %}

        {% endif %}
    
    {% endif %}
    
{% endblock %}

